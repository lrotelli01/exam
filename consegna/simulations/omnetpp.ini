[General]
network = progetto.DatabaseNetwork
sim-time-limit = 10000s
warmup-period = 500s
cpu-time-limit = 3600s

# --- Ripetizioni multiple con seed diversi ---
repeat = 5
seed-set = ${repetition}

# --- Output e Risultati ---
output-scalar-file = ${resultdir}/${configname}-${iterationvars}-${repetition}.sca
result-dir = results
**.vector-recording = false
**.scalar-recording = true
**.result-recording-modes = -vector

# --- Parametri Globali ---
# M = numero tabelle
# N = numero utenti
# T = tempo medio tra accessi (esponenziale con rate lambda = 1/T)
# S = durata fissa operazione
# p = probabilità di read

# Lambda = 1/T dove T è il tempo medio tra accessi
# Con lambda=0.05 -> T medio = 20 secondi
*.user[*].lambda = 0.05

# Durata operazione database (100ms, tipico per query semplici)
*.user[*].serviceTime = 0.1s

# --- Configurazione Uniform con parametri multipli ---
[Config Uniform]
description = "Uniform distribution - varia M, N e p"
*.user[*].tableDistribution = "uniform"

# Numero tabelle: 10, 20
*.numTables = ${20}

# Numero di utenti: da 100 a 5000 per testare saturazione
*.numUsers = ${N=100, 500, 1000, 1200, 1500, 1600, 2000, 2500, 3000, 3500, 4000, 5000}

# Probabilità di read: 0.3, 0.5, 0.8
*.user[*].readProbability = ${p=0.3, 0.5, 0.8}

# Questo genererà automaticamente 18 run (6 valori di N × 3 valori di p)


[Config Lognormal]
description = "Lognormal distribution (hotspots) - varia M, N e p"
*.user[*].tableDistribution = "lognormal"
*.user[*].lognormalM = 1.5
*.user[*].lognormalS = 1.0

# Numero tabelle: 10, 20
*.numTables = ${20}

# Numero di utenti: da 100 a 5000 per testare saturazione
*.numUsers = ${N=100, 500, 1000, 1200, 1500, 1600, 2000, 2500, 3000, 3500, 4000, 5000}

# Probabilità di read: 0.3, 0.5, 0.8
*.user[*].readProbability = ${p=0.3, 0.5, 0.8}

# Questo genererà automaticamente 18 run (6 valori di N × 3 valori di p)

[Config WarmupAnalysis]
description = "Configuration for warm-up period analysis"
result-dir = results_warmup
sim-time-limit = 4000s
warmup-period = 0s
repeat = 10

# Enable vector recording for warm-up analysis
**.vector-recording = true
**.result-recording-modes = +vector

*.numUsers = 2500
*.numTables = 20
*.user[*].lambda = 0.05
*.user[*].readProbability = 0.5
*.user[*].serviceTime = 0.1s
*.user[*].tableDistribution = "uniform"


[Config ContinuityA]
description = "Continuity Test - Configuration A (N=100)"
result-dir = results_continuity
sim-time-limit = 1000s
warmup-period = 500s
repeat = 25

*.numUsers = 100
*.numTables = 20
*.user[*].lambda = 1.0
*.user[*].readProbability = 0.5
*.user[*].serviceTime = 0.1s
*.user[*].tableDistribution = "uniform"


[Config ContinuityB]
description = "Continuity Test - Configuration B (N=101)"
result-dir = results_continuity
sim-time-limit = 1000s
warmup-period = 500s
repeat = 25

*.numUsers = 101
*.numTables = 20
*.user[*].lambda = 1.0
*.user[*].readProbability = 0.5
*.user[*].serviceTime = 0.1s
*.user[*].tableDistribution = "uniform"


[Config ConsistencyBase]
description = "Consistency test base configuration"
result-dir = results_consistency
sim-time-limit = 4000s
warmup-period = 500s
repeat = 3

*.numTables = 10
*.user[*].readProbability = 0.5
*.user[*].tableDistribution = "uniform"
*.user[*].serviceTime = 0.1s
*.user[*].lambda = 0.05


[Config Config10Users]
extends = ConsistencyBase
*.numUsers = 10


[Config Config50Users]
extends = ConsistencyBase
*.numUsers = 50


[Config Config100Users]
extends = ConsistencyBase
*.numUsers = 100


[Config Config500Users]
extends = ConsistencyBase
*.numUsers = 500


[Config Config1000Users]
extends = ConsistencyBase
*.numUsers = 1000


[Config ConsistencySweep]
extends = ConsistencyBase
description = "Consistency test sweep (N=10,50,100,500,1000)"
*.numUsers = ${N=10, 50, 100, 500, 1000}


[Config Test]
description = "Quick smoke test"
sim-time-limit = 10s
warmup-period = 0s
repeat = 1
result-dir = results_test

*.numUsers = 10
*.numTables = 5
*.user[*].readProbability = 0.5
*.user[*].tableDistribution = "uniform"
*.user[*].serviceTime = 0.1s
*.user[*].lambda = 1.0
